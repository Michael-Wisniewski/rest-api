webpackJsonp([1],{"9M+g":function(t,e){},"G/xu":function(t,e,s){t.exports=s.p+"static/img/teacher.c1c0358.jpg"},Jmt5:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=s("VU/8")({name:"App"},n,!1,null,null,null).exports,i=s("/ocq"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"landing_page"}},[e("b-row",{attrs:{"align-h":"center","align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("router-link",{attrs:{to:"/teacher/exam_list/"}},[e("b-card",{staticClass:"shadow",attrs:{header:"Teacher","header-tag":"header","border-variant":"primary","header-bg-variant":"primary","header-text-variant":"white",align:"center"}},[e("b-card-text",[e("img",{attrs:{src:s("G/xu"),alt:"Teacher panel"}})]),this._v(" "),e("b-button",{attrs:{href:"#",variant:"outline-primary",size:"lg"}},[this._v("Log In")])],1)],1)],1),this._v(" "),e("b-col",{attrs:{sm:"4"}},[e("router-link",{attrs:{to:"/schoolboy/exam_list/"}},[e("b-card",{staticClass:"shadow",attrs:{header:"Schoolboy","header-tag":"header","border-variant":"success","header-bg-variant":"success","header-text-variant":"white",align:"center"}},[e("b-card-text",[e("img",{attrs:{src:s("vhVu"),alt:"Schoolboy panel"}})]),this._v(" "),e("b-button",{attrs:{variant:"outline-success",size:"lg"}},[this._v("Log In")])],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")({name:"LandingPage"},o,!1,null,null,null).exports,l=s("Dd8w"),u=s.n(l),d=s("NYxO"),h={name:"NavBar",props:["user","variant"],computed:u()({},Object(d.c)(["isAuthenticated"])),filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},methods:u()({},Object(d.b)(["removeTokens"]),{logOut:function(){this.removeTokens(),this.$router.push({path:"/"})}})},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-shadow",attrs:{id:"nav-bar"}},[s("b-navbar",{attrs:{variant:t.variant,type:"dark"}},[s("b-navbar-brand",[t._v("\n      "+t._s(t._f("capitalize")(t.user))+" Exam Panel\n    ")]),t._v(" "),s("b-button",{directives:[{name:"show",rawName:"v-show",value:t.isAuthenticated,expression:"isAuthenticated"}],staticClass:"ml-auto",attrs:{variant:"outline-"+t.variant,size:"lg"},on:{click:t.logOut}},[t._v("Log Out")])],1)],1)},staticRenderFns:[]},v=s("VU/8")(h,m,!1,null,null,null).exports,p=s("Xxa5"),f=s.n(p),g=s("exGp"),b=s.n(g),x={name:"AuthModal",data:function(){return{username:"",password:"",showPasssword:!1,usernameValidation:void 0,usernameValidationText:"",passwordValidation:void 0,passwordValidationText:"",isChecking:!1}},props:["user","variant"],computed:u()({},Object(d.c)(["isAuthenticated","loginError"]),{show:{set:function(){return!0},get:function(){return!this.isAuthenticated}}}),methods:u()({},Object(d.b)(["obtainToken"]),{login:function(){var t=this;return b()(f.a.mark(function e(){var s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.validateData()){e.next=6;break}return t.isChecking=!0,s={username:t.username,password:t.password},e.next=5,t.obtainToken(s);case 5:t.isChecking=!1;case 6:case"end":return e.stop()}},e,t)}))()},validateData:function(){return!(!this.usernameValidation||!this.passwordValidation)||(this.passwordValidation||(this.passwordValidation=!1,this.$nextTick(function(){this.$refs.password.focus()}),this.checkPassword()),this.usernameValidation||(this.usernameValidation=!1,this.$nextTick(function(){this.$refs.username.focus()}),this.checkUsername()),!1)},checkUsername:function(){this.username.length>=4?this.usernameValidation=!0:void 0!==this.usernameValidation&&(this.usernameValidation=!1,0===this.username.length?this.usernameValidationText="Please fill out this field.":this.usernameValidationText="User's name is too short")},checkPassword:function(){this.password.length>=6?this.passwordValidation=!0:void 0!==this.passwordValidation&&(this.passwordValidation=!1,0===this.password.length?this.passwordValidationText="Please fill out this field.":this.passwordValidationText="Password is too short")},resetData:function(){this.username="",this.password="",this.showPasssword=!1,this.usernameValidation=void 0,this.usernameValidationText="",this.passwordValidation=void 0,this.passwordValidationText=""}}),watch:{username:function(){this.checkUsername()},password:function(){this.checkPassword()},show:function(){this.show&&this.resetData()}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"auth-modal",centered:"","header-text-variant":"light","no-close-on-backdrop":"",title:"Login to "+t.user+"'s account","header-bg-variant":t.variant},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{attrs:{slot:"modal-header-close"},slot:"modal-header-close"},[s("router-link",{staticClass:"close-btn",attrs:{to:"/"}},[t._v("\n      X\n    ")])],1),t._v(" "),s("h4",{staticClass:"text-center",attrs:{id:"login-error"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.loginError,expression:"loginError"}],staticClass:"badge badge-danger"},[t._v("\n      "+t._s(t.loginError)+"\n    ")])]),t._v(" "),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Username :","label-cols-sm":"4",description:"The minimum length is 4 characters.","invalid-feedback":t.usernameValidationText,state:t.usernameValidation}},[s("b-form-input",{ref:"username",attrs:{state:t.usernameValidation,required:"",placeholder:"Enter username"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.password.focus(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("b-form-group",{staticClass:"mt-3",attrs:{label:"Password :","label-cols-sm":"4",description:"The minimum length is 6 characters.","invalid-feedback":t.passwordValidationText,state:t.passwordValidation}},[s("b-form-input",{ref:"password",attrs:{required:"",placeholder:"Enter password",state:t.passwordValidation,type:t.showPasssword?"text":"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("b-form-checkbox",{staticClass:"text-center",model:{value:t.showPasssword,callback:function(e){t.showPasssword=e},expression:"showPasssword"}},[t._v("\n    Show password\n  ")]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.isChecking?s("div",{attrs:{id:"connection"}},[s("b-spinner",{attrs:{variant:t.variant}})],1):t._e()]),t._v(" "),s("div",{staticClass:"w-100 text-center",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{attrs:{variant:t.variant,disabled:t.isChecking,size:"xl"},on:{click:t.login}},[t._v("\n      Log In\n    ")])],1)],1)},staticRenderFns:[]},_={name:"Base",data:function(){return{user:"anonymous",variant:"secondary"}},components:{NavBar:v,AuthModal:s("VU/8")(x,w,!1,null,null,null).exports},created:function(){this.$route.meta.user&&(this.user=this.$route.meta.user),"schoolboy"===this.user?this.variant="success":"teacher"===this.user&&(this.variant="primary")},methods:u()({},Object(d.b)(["inspectToken"])),updated:function(){this.inspectToken()},mounted:function(){this.showModal=this.inspectToken()}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-bar",{attrs:{user:this.user,variant:this.variant}}),this._v(" "),e("b-container",{attrs:{fluid:""}},[e("transition",{attrs:{name:"bounce",mode:"out-in"}},[e("router-view")],1),this._v(" "),e("auth-modal",{attrs:{user:this.user,variant:this.variant}})],1)],1)},staticRenderFns:[]},y=s("VU/8")(_,k,!1,null,null,null).exports,C=s("mtWM"),E=s.n(C),T={name:"SchoolboyExamList",data:function(){return{exams:null,errorMsg:"",fields:[{key:"title"},{key:"author",sortable:!0},{key:"difficulty",sortable:!0},{key:"url",label:"Take the exam",sortable:!1,class:"text-center"}]}},created:function(){this.getExams()},computed:u()({},Object(d.c)(["isAuthenticated","headers"])),methods:u()({},Object(d.b)(["inspectToken"]),{getExams:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e=this.headers;E.a.get("http://localhost:80/v1/schoolboy/exam_list/",e).then(function(e){200===e.status?t.exams=e.data:204===e.status&&(t.errorMsg="There are no exam sheets avalible at this moment.")}).catch(function(e){e.response?403===e.response.status&&(t.errorMsg=e.response.data.detail):t.errorMsg="Something gone wrong."})}},getUrl:function(t){var e=t.split("/");return"/schoolboy/exam/"+e[e.length-2]+"/"},getVariant:function(t){return"Easy"===t?"success":"Medium"===t?"warning":"danger"}}),watch:{isAuthenticated:function(){this.getExams()}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"content-container",attrs:{id:"schoolboy-exam-list","align-v":"center","align-h":"center"}},[s("b-col",{attrs:{md:"6"}},[t.exams||t.errorMsg?t.errorMsg?s("b-card",{staticClass:"text-center shadow"},[s("b-card-text",[t._v("\n        "+t._s(t.errorMsg)+"\n      ")])],1):t.exams?s("b-card",{staticClass:"shadow",attrs:{header:"Exam list","header-bg-variant":"success","header-text-variant":"white","border-variant":"success"}},[s("b-card-text",[s("b-table",{attrs:{items:t.exams,fields:t.fields,striped:""},scopedSlots:t._u([{key:"difficulty",fn:function(e){return[s("h5",[s("span",{class:"badge badge-"+t.getVariant(e.value)},[t._v("\n                "+t._s(e.value)+"\n              ")])])]}},{key:"url",fn:function(e){return[s("router-link",{attrs:{to:t.getUrl(e.value)}},[s("b-button",{attrs:{variant:"success"}},[t._v(">>")])],1)]}}])})],1)],1):t._e():s("b-spinner",{staticClass:"align-center"})],1)],1)},staticRenderFns:[]},V=s("VU/8")(T,A,!1,null,null,null).exports,M={name:"QuestionBox",data:function(){return{selectedIndex:null}},props:{returnedAnswer:Function,currentQuestion:{type:Object,default:function(){return{text:"",answers:[]}}},percentCompleted:Number},methods:{selectAnswer:function(t){if(null===this.selectedIndex){this.selectedIndex=t;var e=this;setTimeout(function(){e.returnedAnswer(e.currentQuestion.answers[t].id),e.selectedIndex=null},200)}}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"question-box-container"}},[s("b-card",{staticClass:"shadow text-center",attrs:{"border-variant":"success"}},[s("div",{staticClass:"progress",attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"progress-bar bg-success",style:"width: "+t.percentCompleted+"%"},[t._v("\n        "+t._s(t.percentCompleted)+"%\n      ")])]),t._v(" "),s("transition",{attrs:{name:"bounce",mode:"out-in"}},[s("div",{key:t.currentQuestion.text},[100!==t.percentCompleted?s("b-card-text",[s("h3",{staticClass:"mt-3"},[t._v("\n          "+t._s(t.currentQuestion.text)+"\n          ")]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("b-list-group",t._l(t.currentQuestion.answers,function(e,a){return s("b-list-group-item",{key:a,class:[a===t.selectedIndex?"bg-success text-white":""],on:{click:function(e){return e.preventDefault(),t.selectAnswer(a)}}},[t._v("\n              "+t._s(e.text)+"\n          ")])}),1)],1):s("b-card-text",{staticClass:"my-5"},[s("b-button",{attrs:{size:"lg",variant:"success",disabled:""}},[s("b-spinner",{attrs:{type:"grow"}}),t._v("\n          Waiting for result...\n          ")],1)],1)],1)])],1)],1)},staticRenderFns:[]},S={name:"SchoolboyExam",components:{QuestionBox:s("VU/8")(M,j,!1,null,null,null).exports},data:function(){return{exam:null,msg:"",index:0,answers:[],url:"http://localhost:80/v1/schoolboy/new_exam/"}},computed:u()({},Object(d.c)(["isAuthenticated","headers"]),{percentCompleted:function(){var t=this.index/this.exam.questions.length*100;return Math.round(t)}}),methods:u()({},Object(d.b)(["inspectToken"]),{getExam:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e=this.headers,s=this.url+this.$route.params.id+"/";E.a.get(s,e).then(function(e){t.exam=e.data}).catch(function(e){e.response?403===e.response.status?t.msg=e.response.data.detail:t.msg=e.response.data.message:t.msg="Something gone wrong"})}},getResult:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e={id:this.exam.id,version:this.exam.version,answers:this.answers},s=this.headers,a=this.url+this.exam.id+"/";E.a.post(a,e,s).then(function(e){t.msg=e.data.message}).catch(function(e){e.response?403===e.response.status?t.msg=e.response.data.detail:t.msg=e.response.data.message:t.msg="Something gone wrong"})}},returnedAnswer:function(t){if(this.answers.push(t),this.index++,this.index===this.exam.questions.length){var e=this;setTimeout(function(){e.getResult()},1500)}}}),created:function(){this.getExam()},watch:{isAuthenticated:function(){this.getExam()}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"content-container",attrs:{id:"schoolboy-exam-list","align-v":"center","align-h":"center"}},[s("b-col",{attrs:{md:"6"}},[t.exam||t.msg?s("div",[s("transition",{attrs:{name:"bounce",mode:"out-in"}},[t.msg?s("b-card",{staticClass:"shadow text-center",attrs:{"border-variant":"success"}},[s("b-card-text",[s("h2",{staticClass:"mt-3"},[t._v("\n            Result\n          ")]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("h4",{staticClass:"result"},[t._v("\n            "+t._s(t.msg)+"\n          ")]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("router-link",{attrs:{to:"/schoolboy/exam_list/"}},[s("b-button",{attrs:{size:"lg",variant:"success"}},[t._v("\n              OK\n            ")])],1)],1)],1):t.exam?s("question-box",{attrs:{currentQuestion:t.exam.questions[t.index],percentCompleted:t.percentCompleted,returnedAnswer:t.returnedAnswer}}):t._e()],1)],1):s("b-spinner",{staticClass:"align-center"})],1)],1)},staticRenderFns:[]},q=s("VU/8")(S,$,!1,null,null,null).exports,O={name:"NewExamModal",data:function(){return{title:"",titleValidation:void 0,titleValidationText:"",msg:"",isSending:!1}},props:{show:Boolean,refreshList:Function},computed:u()({},Object(d.c)(["isAuthenticated","headers"]),{showModal:{set:function(){return!1},get:function(){return this.show}}}),methods:u()({},Object(d.b)(["inspectToken"]),{checkTitle:function(){this.title.length>=6?this.titleValidation=!0:void 0!==this.titleValidation&&(this.titleValidation=!1,0===this.title.length?this.titleValidationText="Please fill out this field.":this.titleValidationText="Title is too short")},addExam:function(){var t=this;if(this.inspectToken(),this.title.length>=6&&this.isAuthenticated){var e=this.headers,s={title:this.title};this.isSending=!0,E.a.post("http://localhost:80/v1/teacher/examsheet_list/",s,e).then(function(e){t.msg=e.data.message}).catch(function(e){e.response?406===e.response.status?t.msg=e.response.data.title[0]:t.msg="Server error":t.msg="Something gone wrong"}),this.isSending=!1}else this.titleValidation=!1,this.checkTitle(),this.$nextTick(function(){this.$refs.title.focus()})},closeModal:function(){this.refreshList(),this.resetData()},resetData:function(){this.title="",this.titleValidation=void 0,this.titleValidationText="",this.msg="",this.isSending=!1}}),watch:{title:function(){this.checkTitle()}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"title-modal",centered:"","header-bg-variant":"primary","header-text-variant":"white",title:"Add new examsheet"},on:{hide:t.closeModal},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("transition",{attrs:{name:"fade"}},[t.msg?s("div",{staticClass:"container d-flex h-100"},[s("h4",{staticClass:"align-self-center text-center w-100"},[t._v("\n        "+t._s(t.msg)+"\n     ")])]):s("div",[s("b-form-group",{staticClass:"mt-4",attrs:{label:"Title :","label-cols-sm":"3",description:"The minimum length is 6 characters.","invalid-feedback":t.titleValidationText,state:t.titleValidation}},[s("b-form-input",{ref:"title",attrs:{state:t.titleValidation,placeholder:"Enter title"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addExam()}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.isSending?s("div",{attrs:{id:"sending"}},[s("b-spinner",{attrs:{variant:t.variant}})],1):t._e()])],1)]),t._v(" "),s("div",{staticClass:"w-100 text-center",attrs:{slot:"modal-footer"},slot:"modal-footer"},[t.msg?s("b-button",{attrs:{variant:"info",size:"xl"},on:{click:function(e){return t.closeModal()}}},[t._v("\n      OK\n    ")]):s("b-button",{attrs:{variant:"info",size:"xl",disabled:t.isSending},on:{click:function(e){return t.addExam()}}},[t._v("\n      Add\n    ")])],1)],1)},staticRenderFns:[]},R={name:"TeacherExamList",data:function(){return{exams:null,errorMsg:"",showNewExamModal:!1,firstExam:!1,fields:[{key:"title",sortable:!0},{key:"available",sortable:!0,class:"text-center"},{key:"version",sortable:!1,class:"text-center"},{key:"updated",sortable:!1},{key:"filled",label:"Times filled",sortable:!1,class:"text-center"},{key:"passed",label:"Times passed",sortable:!1,class:"text-center"},{key:"url",label:"Edit exam",sortable:!1,class:"text-center"}]}},components:{NewExamModal:s("VU/8")(O,U,!1,null,null,null).exports},created:function(){this.getExams()},computed:u()({},Object(d.c)(["isAuthenticated","headers"])),methods:u()({},Object(d.b)(["inspectToken"]),{getExams:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e=this.headers;E.a.get("http://localhost:80/v1/teacher/examsheet_list/",e).then(function(e){200===e.status?e.data.message?t.errorMsg=e.data.message:t.exams=e.data:204===e.status&&(t.firstExam=!0,t.errorMsg="You did not add any exam sheets.")}).catch(function(e){e.response?403===e.response.status&&(t.errorMsg=e.response.data.detail):t.errorMsg="Something gone wrong."})}},getUrl:function(t){var e=t.split("/");return"/teacher/exam/"+e[e.length-2]+"/"},getVariant:function(t){return t?"success":"secondary"},refreshList:function(){this.showNewExamModal=!1,this.errorMsg="",this.getExams()}}),watch:{isAuthenticated:function(){this.getExams()}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"content-container",attrs:{id:"teacher-exam-list","align-v":"center","align-h":"center"}},[s("b-col",{attrs:{md:"8"}},[t.exams||t.errorMsg?t.errorMsg?s("b-card",{staticClass:"text-center shadow"},[s("b-card-text",[t._v("\n        "+t._s(t.errorMsg)+"\n      ")]),t._v(" "),t.firstExam?s("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showNewExamModal=!0}}},[t._v("\n            Add first exam\n        ")])],1):t._e()],1):t.exams?s("b-card",{staticClass:"shadow",attrs:{header:"Exam list","header-bg-variant":"primary","header-text-variant":"white","border-variant":"primary","footer-bg-variant":"white"}},[s("b-card-text",[s("b-table",{attrs:{items:t.exams,fields:t.fields,striped:""},scopedSlots:t._u([{key:"available",fn:function(e){return[s("h5",[s("span",{class:"badge badge-"+t.getVariant(e.value)},[t._v("\n              "+t._s(e.value)+"\n            ")])])]}},{key:"version",fn:function(e){return[s("h5",[s("span",{staticClass:"badge badge-info"},[t._v("\n              "+t._s(e.value)+"\n            ")])])]}},{key:"filled",fn:function(e){return[s("h5",[s("span",{staticClass:"badge badge-secondary"},[t._v("\n              "+t._s(e.value)+"\n            ")])])]}},{key:"passed",fn:function(e){return[s("h5",[s("span",{staticClass:"badge badge-success"},[t._v("\n              "+t._s(e.value)+"\n            ")])])]}},{key:"url",fn:function(e){return[s("router-link",{attrs:{to:t.getUrl(e.value)}},[s("b-button",{attrs:{variant:"info"}},[t._v(">>")])],1)]}}])})],1),t._v(" "),s("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[s("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showNewExamModal=!0}}},[t._v("\n            New Exam\n        ")])],1)],1):t._e():s("b-spinner",{staticClass:"align-center"})],1),t._v(" "),s("new-exam-modal",{attrs:{show:t.showNewExamModal,refreshList:t.refreshList}})],1)},staticRenderFns:[]},P=s("VU/8")(R,Q,!1,null,null,null).exports,L={name:"TeacherExam",data:function(){return{exam:null,msg:"",version:null,url:"http://localhost:80/v1/teacher/exam_edit/",options:[1,2,3,4,5]}},computed:u()({},Object(d.c)(["isAuthenticated","headers"]),{minimumTwoQuestion:function(){return this.exam.questions.length>1}}),methods:u()({},Object(d.b)(["inspectToken"]),{getExam:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e=this.headers,s=this.url+this.$route.params.id+"/",a=[404,406,410];E.a.get(s,e).then(function(e){t.exam=e.data,t.version=t.exam.version,delete t.exam.version,t.exam.questions.length||t.addQuestion()}).catch(function(e){e.response?a.includes(e.response.status)?t.msg=e.response.data.message:403===e.response.status?t.msg=e.response.data.detail:t.msg="Server error":t.msg="Something gone wrong"})}},deleteExam:function(){var t=this;if(this.inspectToken(),this.isAuthenticated){var e=this.headers,s=this.url+this.$route.params.id+"/",a=[404,406,410];E.a.delete(s,e).then(function(e){t.msg=e.data.message}).catch(function(e){e.response?a.includes(e.response.status)?t.msg=e.response.data.message:t.msg="Server error":t.msg="Something gone wrong"})}},saveExam:function(t){var e=this;if(t.preventDefault(),this.inspectToken(),this.isAuthenticated){var s=this.headers,a=this.url+this.$route.params.id+"/",n=this.exam,r=[404,406,410];E.a.post(a,n,s).then(function(t){e.msg=t.data.message}).catch(function(t){t.response?r.includes(t.response.status)?e.msg=t.response.data.message:e.msg="Server error":e.msg="Something gone wrong"})}},addQuestion:function(){this.exam.questions.push({text:"",points:1,answers:[{is_correct:!0,text:""},{is_correct:!1,text:""}]})},removeQuestion:function(t){var e=this.exam.questions[t];void 0!==e.id?(e.delete=!0,this.$forceUpdate()):this.exam.questions.splice(t,1)},doesDisplayQuestion:function(t){return void 0===this.exam.questions[t].delete},addAnswer:function(t){this.exam.questions[t].answers.push({is_correct:!1,text:""})},changeAnswer:function(t,e){this.exam.questions[t].answers.forEach(function(t,s){e!==s&&(t.is_correct=!1)})},removeAnswer:function(t,e){var s=this.exam.questions[t],a=s.answers[e];a.is_correct&&(a.is_correct=!1,e===s.answers.length-1?s.answers[e-1].is_correct=!0:s.answers[e+1].is_correct=!0),void 0!==a.id?(a.delete=!0,this.$forceUpdate()):s.answers.splice(e,1)},minimumTwoAnswers:function(t){var e=0;return void 0!==this.exam.questions[t]&&this.exam.questions[t].answers.forEach(function(t){void 0===t.delete&&e++}),e>2},doesDisplayAnswer:function(t,e){return void 0===this.exam.questions[t].answers[e].delete}}),created:function(){this.getExam()},watch:{isAuthenticated:function(){this.getExam()}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"content-container",attrs:{id:"teacher-exam","align-v":"center","align-h":"center"}},[s("b-col",{staticClass:"m-4",attrs:{md:"6"}},[t.exam||t.msg?s("div",[s("transition",{attrs:{name:"bounce",mode:"out-in"}},[t.msg?s("b-card",{staticClass:"shadow text-center",attrs:{"border-variant":"success"}},[s("b-card-text",[s("h4",{staticClass:"result"},[t._v("\n            "+t._s(t.msg)+"\n          ")]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("router-link",{attrs:{to:"/teacher/exam_list/"}},[s("b-button",{attrs:{size:"lg",variant:"success"}},[t._v("\n              OK\n            ")])],1)],1)],1):t.exam?s("b-form",{on:{submit:t.saveExam}},[s("b-card",{staticClass:"shadow",attrs:{id:"title-card","header-bg-variant":"primary","header-text-variant":"white"}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n          Exam title\n          "),s("span",{staticClass:"badge badge-light version"},[t._v("\n          v. "+t._s(t.version)+"\n          ")])]),t._v(" "),s("b-card-text",[s("b-form-group",{staticClass:"mt-4",attrs:{label:"Title :","label-cols-sm":"2",description:"The minimum length is 6 characters."}},[s("b-form-input",{attrs:{placeholder:"Enter title",required:"",minlength:"6"},model:{value:t.exam.title,callback:function(e){t.$set(t.exam,"title",e)},expression:"exam.title"}})],1),t._v(" "),s("b-row",[s("b-col",{staticClass:"text-center"},[s("hr",{staticClass:"my-4"}),t._v(" "),s("b-form-checkbox",{model:{value:t.exam.available,callback:function(e){t.$set(t.exam,"available",e)},expression:"exam.available"}},[t._v("\n                        Available\n                      ")])],1)],1)],1)],1),t._v(" "),t._l(t.exam.questions,function(e,a){return t.doesDisplayQuestion(a)?s("b-card",{key:a,staticClass:"'shadow my-3",attrs:{"header-bg-variant":"primary","header-text-variant":"white"}},[s("div",{staticClass:"question-header",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"title"},[t._v("Question no. "+t._s(a+1))]),t._v(" "),t.minimumTwoQuestion?s("span",{staticClass:"badge delete-question"},[s("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.removeQuestion(a)}}},[t._v("X")])],1):t._e()]),t._v(" "),s("b-card-text",[s("b-form-group",{staticClass:"mt-4",attrs:{label:"Question :","label-cols-sm":"2"}},[s("b-form-input",{attrs:{placeholder:"Enter question",required:""},model:{value:e.text,callback:function(s){t.$set(e,"text",s)},expression:"question.text"}})],1),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("b-list-group",t._l(e.answers,function(e,n){return t.doesDisplayAnswer(a,n)?s("b-list-group-item",{key:n},[s("b-row",[s("b-col",[s("b-form-checkbox",{attrs:{disabled:e.is_correct},on:{change:function(e){return t.changeAnswer(a,n)}},model:{value:e.is_correct,callback:function(s){t.$set(e,"is_correct",s)},expression:"answer.is_correct"}},[t._v("\n                        correct\n                      ")])],1),t._v(" "),s("b-col",{attrs:{cols:"8"}},[s("b-form-input",{attrs:{placeholder:"Enter answer",required:""},model:{value:e.text,callback:function(s){t.$set(e,"text",s)},expression:"answer.text"}})],1),t._v(" "),s("b-col",{attrs:{cols:"2"}},[t.minimumTwoAnswers(a)?s("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.removeAnswer(a,n)}}},[t._v("\n                        X\n                    ")]):t._e()],1)],1)],1):t._e()}),1),t._v(" "),s("b-row",{staticClass:"text-center"},[s("b-col",{staticClass:"mt-4",attrs:{cols:"12"}},[t._v("\n                Points :\n                "),s("b-form-select",{staticClass:"select-points",attrs:{options:t.options},model:{value:e.points,callback:function(s){t.$set(e,"points",s)},expression:"question.points"}})],1),t._v(" "),s("b-col",{attrs:{cols:"12"}},[s("hr",{staticClass:"my-4"}),t._v(" "),s("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.addAnswer(a)}}},[t._v("Add Answer")])],1)],1)],1)],1):t._e()}),t._v(" "),s("b-col",{staticClass:"text-center my-4"},[s("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteExam()}}},[t._v("Delete Exam")]),t._v(" "),s("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.addQuestion()}}},[t._v("Add Question")]),t._v(" "),s("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Save")])],1)],2):t._e()],1)],1):s("b-spinner",{staticClass:"align-center"})],1)],1)},staticRenderFns:[]},D=s("VU/8")(L,N,!1,null,null,null).exports;a.a.use(i.a);var I=new i.a({routes:[{path:"/",name:"LandingPage",component:c},{path:"/",component:y,children:[{path:"schoolboy/exam_list/",meta:{user:"schoolboy"},component:V},{path:"schoolboy/exam/:id/",meta:{user:"schoolboy"},component:q},{path:"teacher/exam_list/",meta:{user:"teacher"},component:P},{path:"teacher/exam/:id/",meta:{user:"teacher"},component:D}]}]}),F=s("e6fC"),z=s.n(F),B=(s("Jmt5"),s("9M+g"),s("gfUQ"),s("Rf8U")),J=s.n(B),W={jwtAccess:localStorage.getItem("jwtAccess"),jwtRefresh:localStorage.getItem("jwtRefresh"),loginError:"",endpoints:{obtainJwt:"http://localhost:80/v1/api/token/",refreshJwt:"http://localhost:80/v1/api/token/refresh/"}},X={updateLoginError:function(t,e){t.loginError=e},setTokens:function(t,e){t.jwtAccess=e.access,t.jwtRefresh=e.refresh,t.loginError="",localStorage.setItem("jwtAccess",e.access),localStorage.setItem("jwtRefresh",e.refresh)},updateAccessToken:function(t,e){localStorage.setItem("jwtAccess",e),t.jwtAccess=e},removeTokens:function(t){localStorage.removeItem("jwtAccess"),localStorage.removeItem("jwtRefresh"),t.jwtAccess=null,t.jwtRefresh=null,t.loginError=""}},G=s("ytdl"),K=s.n(G),H={obtainToken:function(t,e){var s=t.commit,a=t.state;return E.a.post(a.endpoints.obtainJwt,e).then(function(t){s("setTokens",t.data)}).catch(function(t){var e="";t.response?400===t.response.status&&(e="Wrong username or password."):e="Something gone wrong.",s("updateLoginError",e)})},refreshToken:function(t){var e=t.state,s=t.commit,a={refresh:e.jwtRefresh};E.a.post(e.endpoints.refreshJwt,a).then(function(t){s("updateAccessToken",t.data.access)}).catch(function(){s("removeTokens")})},removeTokens:function(t){(0,t.commit)("removeTokens")},inspectToken:function(t){var e=t.state,s=t.commit,a=t.dispatch,n=e.jwtAccess,r=e.jwtRefresh;if(n){var i=K()(n),o=K()(r),c=i.exp,l=o.exp,u=Date.now()/1e3;c<u&&l>u?a("refreshToken"):l<u&&s("removeTokens")}}};a.a.use(d.a);var Y=new d.a.Store({strict:!0,state:W,mutations:X,actions:H,getters:{isAuthenticated:function(t){return!!t.jwtAccess},loginError:function(t){return t.loginError},headers:function(t){return{headers:{Authorization:"Bearer "+t.jwtAccess}}}}});a.a.use(d.a),a.a.use(z.a),a.a.use(J.a,E.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:I,store:Y,components:{App:r},template:"<App/>"})},gfUQ:function(t,e){},vhVu:function(t,e,s){t.exports=s.p+"static/img/schoolboy.35f5a5e.jpg"}},["NHnr"]);
//# sourceMappingURL=app.9351d8c0abf969104e25.js.map